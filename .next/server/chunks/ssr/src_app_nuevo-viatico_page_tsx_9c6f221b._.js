module.exports=[21705,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(11642),f=a.i(84391),g=a.i(91119),h=a.i(99570),i=a.i(68114);let j=c.forwardRef(({className:a,type:c,...d},e)=>(0,b.jsx)("input",{type:c,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...d}));j.displayName="Input";var k=a.i(30553),l=c.forwardRef((a,c)=>(0,b.jsx)(k.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));l.displayName="Label";let m=(0,a.i(187).cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(l,{ref:d,className:(0,i.cn)(m(),a),...c}));n.displayName=l.displayName;let o=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:d,...c}));o.displayName="Textarea";var p=a.i(80701),q=a.i(24348),r=a.i(86304),s=a.i(97942),t=a.i(33508);let u=s.Root;s.Trigger;let v=s.Portal;s.Close;let w=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(s.Overlay,{ref:d,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));w.displayName=s.Overlay.displayName;let x=c.forwardRef(({className:a,children:c,...d},e)=>(0,b.jsxs)(v,{children:[(0,b.jsx)(w,{}),(0,b.jsxs)(s.Content,{ref:e,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",a),...d,children:[c,(0,b.jsxs)(s.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(t.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=s.Content.displayName;let y=({className:a,...c})=>(0,b.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});y.displayName="DialogHeader";let z=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(s.Title,{ref:d,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));z.displayName=s.Title.displayName;let A=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(s.Description,{ref:d,className:(0,i.cn)("text-sm text-muted-foreground",a),...c}));A.displayName=s.Description.displayName;var B=a.i(85259),C=a.i(70106);let D=(0,C.default)("file-check",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),E=(0,C.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var F=a.i(13513),G=a.i(96221);let H=(0,C.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var I=a.i(67453),J=a.i(97063),K=a.i(4720);let L=(0,C.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),M=(0,C.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var N=a.i(29908),O=a.i(64549),P=a.i(14804);function Q(){let{appUser:i,loading:k}=(0,e.useAuth)(),l=(0,d.useRouter)(),{activeDate:m,activeDateDisplay:s,timeLeft:v,isGracePeriod:w}=(0,P.useViaticoDeadline)(),C=m?m.toISOString().split("T")[0]:"",[Q,R]=(0,c.useState)([]),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(""),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)("otro"),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)(""),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(!1),[ao,ap]=(0,c.useState)("environment"),aq=(0,c.useRef)(null),ar=(0,c.useRef)(null),as=(0,c.useRef)(null),[at,au]=(0,c.useState)(0);(0,c.useEffect)(()=>{C&&a.A(70218).then(({getMisViaticos:a})=>{a().then(a=>{a.success&&Array.isArray(a.viaticos)&&au(a.viaticos.filter(a=>a.fecha===C).length)}).catch(console.error)})},[C,ak]),(0,c.useEffect)(()=>{k||!i||i.crear_carpeta||l.push("/dashboard")},[i,k,l]);let av=()=>{as.current&&(as.current.getTracks().forEach(a=>a.stop()),as.current=null),ar.current&&(ar.current.srcObject=null)};(0,c.useEffect)(()=>(am?(av(),navigator.mediaDevices.getUserMedia({video:{facingMode:ao}}).then(a=>{as.current=a,ar.current&&(ar.current.srcObject=a)}).catch(a=>{console.error("Error accediendo a la cÃ¡mara:",a),aj("No se pudo acceder a la cÃ¡mara. AsegÃºrate de dar permisos."),"OverconstrainedError"===a.name?navigator.mediaDevices.getUserMedia({video:!0}).then(a=>{as.current=a,ar.current&&(ar.current.srcObject=a)}).catch(a=>{console.error("Fallback camera error:",a),an(!1)}):an(!1)})):av(),()=>{av()}),[am,ao]);let aw=async a=>{if(a.preventDefault(),0===Q.length||!U||!W||""===W.trim())return void aj("Por favor completa todos los campos obligatorios: foto, monto y descripciÃ³n.");ah(!0),aj(""),al(!1);try{let a=new FormData;Q.forEach(b=>{a.append("foto",b)}),a.append("monto",U),a.append("descripcion",W),a.append("tipo",ae),a.append("para",Y),a.append("tipo_comprobante",$),aa&&a.append("numero_documento",aa),ac&&a.append("numero_comprobante",ac),a.append("createTxt","1"),await (0,f.uploadViatico)(a),al(!0),setTimeout(()=>{l.push("/mis-viaticos")},2e3)}catch(a){aj(a.message||"Error al subir el viÃ¡tico")}finally{ah(!1)}};return k||!i?(0,b.jsx)(O.default,{children:(0,b.jsx)(N.default,{children:(0,b.jsx)("div",{className:"max-w-5xl mx-auto space-y-6",children:(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"p-20",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[(0,b.jsx)(G.Loader2,{className:"h-12 w-12 animate-spin text-primary"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Cargando..."})]})})})})})}):i.crear_carpeta?(0,b.jsx)(O.default,{children:(0,b.jsx)(N.default,{children:(0,b.jsx)(B.TooltipProvider,{children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Nuevo ViÃ¡tico"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Registra un nuevo comprobante con su foto o PDF"})]}),(0,b.jsx)(g.Card,{className:`border-2 ${w?"border-orange-500 bg-orange-50":"border-primary/20 bg-primary/5"}`,children:(0,b.jsxs)(g.CardContent,{className:"pt-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`p-3 rounded-full ${w?"bg-orange-100":"bg-primary/10"}`,children:(0,b.jsx)(M,{className:`h-8 w-8 ${w?"text-orange-600":"text-primary"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha de Registro Activa"}),(0,b.jsx)("h2",{className:`text-3xl font-bold ${w?"text-orange-700":"text-primary"}`,children:s})]})]}),(0,b.jsx)("div",{className:"flex flex-col items-center sm:items-end gap-2 w-full sm:w-auto",children:w&&(0,b.jsx)("p",{className:"text-xs text-orange-600 font-medium text-center sm:text-right max-w-[250px]",children:"Tienes hasta las 10:00 AM para registrar viÃ¡ticos de ayer."})})]})}),(0,b.jsx)("form",{onSubmit:aw,className:"space-y-6",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"InformaciÃ³n del Comprobante"}),(0,b.jsx)(g.CardDescription,{children:"Sube tus comprobantes y completa los datos"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(n,{children:"Comprobantes"}),(0,b.jsxs)(B.Tooltip,{children:[(0,b.jsx)(B.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(r.Badge,{variant:"outline",className:"text-xs",children:[(0,b.jsx)(J.Info,{className:"h-3 w-3 mr-1"}),"Formatos: JPG, PNG, WEBP, PDF"]})}),(0,b.jsx)(B.TooltipContent,{children:(0,b.jsx)("p",{children:"El tamaÃ±o mÃ¡ximo es de 10MB por archivo"})})]})]}),(0,b.jsx)("input",{ref:aq,type:"file",accept:"image/*,application/pdf",onChange:a=>{let b=a.target.files;if(!b)return;let c=Array.from(b),d=[...Q],e=[...S];for(let a of c){if(a.size>0xa00000){aj(`El archivo ${a.name} es demasiado grande. M\xe1ximo 10MB.`);continue}d.push(a);let b="application/pdf"===a.type,c=new FileReader;c.onload=c=>{e.push({url:c.target?.result,isPdf:b,name:a.name}),T([...e])},c.readAsDataURL(a)}R(d),aj(""),aq.current&&(aq.current.value="")},className:"hidden",multiple:!0}),S.length>0?(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[S.map((a,c)=>(0,b.jsxs)("div",{className:"relative group w-full",children:[(0,b.jsx)("div",{className:"rounded-lg border overflow-hidden aspect-square flex items-center justify-center bg-muted",children:a.isPdf?(0,b.jsxs)("div",{className:"p-4 flex flex-col items-center justify-center text-center",children:[(0,b.jsx)(K.FileText,{className:"w-10 h-10 text-primary"}),(0,b.jsx)("p",{className:"mt-2 text-xs font-medium break-all max-w-xs",children:a.name}),(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noreferrer",className:"mt-2",children:(0,b.jsx)(h.Button,{variant:"outline",size:"sm",children:"Ver"})})]}):(0,b.jsx)("img",{src:a.url,alt:`Vista previa ${c+1}`,className:"w-full h-full object-cover"})}),(0,b.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsxs)(B.Tooltip,{children:[(0,b.jsx)(B.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(h.Button,{type:"button",variant:"destructive",size:"icon",onClick:()=>{R(Q.filter((a,b)=>b!==c)),T(S.filter((a,b)=>b!==c))},children:(0,b.jsx)(t.X,{className:"h-4 w-4"})})}),(0,b.jsx)(B.TooltipContent,{children:(0,b.jsx)("p",{children:"Eliminar archivo"})})]})})]},c)),(0,b.jsxs)("div",{className:"border-2 border-dashed rounded-lg flex flex-col items-center justify-center text-center cursor-pointer hover:bg-muted/50 transition-colors aspect-square",onClick:()=>aq.current?.click(),children:[(0,b.jsx)(E,{className:"w-8 h-8 text-primary"}),(0,b.jsx)("p",{className:"mt-2 text-sm font-semibold",children:"AÃ±adir mÃ¡s"})]})]}):(0,b.jsxs)("div",{className:"border-2 border-dashed rounded-lg flex flex-col items-center justify-center p-6 sm:p-10 text-center cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>aq.current?.click(),children:[(0,b.jsx)("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,b.jsx)(E,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"})}),(0,b.jsx)("p",{className:"mt-2 sm:mt-4 font-semibold text-sm sm:text-base",children:"Seleccionar Archivos"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 sm:mt-2",children:"o arrastra y suelta aquÃ­"}),(0,b.jsxs)("div",{className:"mt-4 sm:mt-6 flex items-center justify-center gap-2 flex-wrap",children:[(0,b.jsx)(r.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:"JPG"}),(0,b.jsx)(r.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:"PNG"}),(0,b.jsx)(r.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:"WEBP"}),(0,b.jsx)(r.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:"PDF"})]}),(0,b.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-2 sm:mt-4",children:"MÃ¡ximo 10MB por archivo"})]}),(0,b.jsxs)(h.Button,{type:"button",variant:"outline",className:"w-full",onClick:()=>{an(!0),ap("environment")},children:[(0,b.jsx)(F.Camera,{className:"h-4 w-4 mr-2"}),"Tomar y AÃ±adir Foto"]})]}),(0,b.jsxs)("div",{className:"space-y-6 pt-6 border-t",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n,{htmlFor:"para",children:"Para *"}),(0,b.jsxs)(p.Select,{value:Y,onValueChange:Z,required:!0,children:[(0,b.jsx)(p.SelectTrigger,{id:"para",children:(0,b.jsx)(p.SelectValue,{placeholder:"Selecciona una opciÃ³n"})}),(0,b.jsxs)(p.SelectContent,{children:[(0,b.jsx)(p.SelectItem,{value:"EMPRESA",children:"ðŸ¢ Empresa"}),(0,b.jsx)(p.SelectItem,{value:"PERSONAL",children:"ðŸ‘¤ Personal"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n,{htmlFor:"tipo_comprobante",children:"Tipo de Comprobante *"}),(0,b.jsxs)(p.Select,{value:$,onValueChange:_,required:!0,children:[(0,b.jsx)(p.SelectTrigger,{id:"tipo_comprobante",children:(0,b.jsx)(p.SelectValue,{placeholder:"Selecciona un tipo"})}),(0,b.jsxs)(p.SelectContent,{children:[(0,b.jsx)(p.SelectItem,{value:"FACTURA",children:"ðŸ§¾ Factura"}),(0,b.jsx)(p.SelectItem,{value:"BOLETA",children:"ðŸ§¾ Boleta"}),(0,b.jsx)(p.SelectItem,{value:"RECIBO POR HONORARIO",children:"ðŸ“„ Recibo por Honorario"}),(0,b.jsx)(p.SelectItem,{value:"SIN COMPROBANTE",children:"âŒ Sin Comprobante"})]})]})]})]}),$&&"SIN COMPROBANTE"!==$&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n,{htmlFor:"numero_documento",children:"BOLETA"===$?"NÃºmero de DNI":"NÃºmero de RUC"}),(0,b.jsx)(j,{id:"numero_documento",type:"text",value:aa,onChange:a=>ab(a.target.value),placeholder:"BOLETA"===$?"Ej: 12345678":"Ej: 20123456789"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n,{htmlFor:"que_sustenta",children:"QuÃ© Sustenta"}),(0,b.jsx)(j,{id:"que_sustenta",type:"text",value:"VIATICO",disabled:!0,className:"bg-muted"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n,{htmlFor:"numero_comprobante",children:"NÃºmero de Comprobante"}),(0,b.jsx)(j,{id:"numero_comprobante",type:"text",value:ac,onChange:a=>ad(a.target.value),placeholder:"Ej: 001-12345"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n,{htmlFor:"monto",children:"Monto (S/) *"}),(0,b.jsx)(j,{id:"monto",type:"number",step:"0.01",min:"0",value:U,onChange:a=>V(a.target.value),required:!0,placeholder:"0.00"})]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n,{htmlFor:"descripcion",children:"DescripciÃ³n *"}),(0,b.jsx)(o,{id:"descripcion",value:W,onChange:a=>X(a.target.value),required:!0,placeholder:"Ej: Almuerzo con cliente, taxi al aeropuerto, etc.",rows:4})]})]}),ai&&(0,b.jsxs)(q.Alert,{variant:"destructive",children:[(0,b.jsx)(H,{className:"h-4 w-4"}),(0,b.jsx)(q.AlertTitle,{children:"Error"}),(0,b.jsx)(q.AlertDescription,{children:ai})]}),ak&&(0,b.jsxs)(q.Alert,{children:[(0,b.jsx)(I.CheckCircle2,{className:"h-4 w-4"}),(0,b.jsx)(q.AlertTitle,{children:"Ã‰xito"}),(0,b.jsx)(q.AlertDescription,{children:"ViÃ¡tico registrado correctamente. Redirigiendo..."})]})]}),(0,b.jsx)(g.CardFooter,{className:"flex justify-end",children:(0,b.jsx)(h.Button,{type:"submit",size:"lg",disabled:ag,className:"min-w-[200px]",children:ag?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(G.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Registrando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D,{className:"mr-2 h-4 w-4"}),"Registrar ViÃ¡tico"]})})})]})}),(0,b.jsx)(u,{open:am,onOpenChange:an,children:(0,b.jsxs)(x,{className:"max-w-4xl",children:[(0,b.jsxs)(y,{children:[(0,b.jsx)(z,{children:"Tomar Foto"}),(0,b.jsx)(A,{children:"Captura una foto de tu comprobante usando la cÃ¡mara"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative rounded-lg overflow-hidden bg-black",children:[(0,b.jsx)("video",{ref:ar,id:"video",autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),(0,b.jsx)(h.Button,{variant:"secondary",size:"icon",className:"absolute top-4 right-4 rounded-full bg-black/50 hover:bg-black/70 text-white border-none",onClick:()=>{ap(a=>"user"===a?"environment":"user")},children:(0,b.jsx)(L,{className:"h-5 w-5"})})]}),(0,b.jsx)("canvas",{id:"canvas",style:{display:"none"}}),(0,b.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>an(!1),children:"Cancelar"}),(0,b.jsxs)(h.Button,{onClick:()=>{let a=ar.current,b=document.getElementById("canvas");if(!a||!b)return;let c=b.getContext("2d");c&&(b.width=a.videoWidth,b.height=a.videoHeight,c.drawImage(a,0,0),b.toBlob(a=>{if(a){let b=new File([a],`foto-${Date.now()}.jpg`,{type:"image/jpeg"});R([...Q,b]),T([...S,{url:URL.createObjectURL(a),isPdf:!1,name:b.name}]),an(!1)}},"image/jpeg",.8))},children:[(0,b.jsx)(F.Camera,{className:"h-4 w-4 mr-2"}),"Capturar Foto"]})]})]})]})})]})})})}):(0,b.jsx)(O.default,{children:(0,b.jsx)(N.default,{children:(0,b.jsx)("div",{className:"max-w-5xl mx-auto space-y-6",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Acceso Restringido"}),(0,b.jsx)(g.CardDescription,{children:"No tienes permiso para acceder a esta pÃ¡gina"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)(q.Alert,{variant:"destructive",children:[(0,b.jsx)(H,{className:"h-4 w-4"}),(0,b.jsx)(q.AlertTitle,{children:"Sin Permiso"}),(0,b.jsxs)(q.AlertDescription,{children:["Tu carpeta de OneDrive no estÃ¡ habilitada. No puedes subir viÃ¡ticos en este momento. Por favor, contacta al administrador para habilitar tu cuenta.",(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),"SerÃ¡s redirigido al dashboard..."]})]})})]})})})})}a.s(["default",()=>Q],21705)}];

//# sourceMappingURL=src_app_nuevo-viatico_page_tsx_9c6f221b._.js.map