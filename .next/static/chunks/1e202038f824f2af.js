(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,i,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},68553,52571,e=>{"use strict";var i=e.i(75254);let s=(0,i.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>s],68553);let t=(0,i.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],52571)},10160,e=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>i])},18566,(e,i,s)=>{i.exports=e.r(76562)},15288,31278,e=>{"use strict";var i=e.i(43476),s=e.i(71645),t=e.i(75157);let a=s.forwardRef(({className:e,...s},a)=>(0,i.jsx)("div",{ref:a,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let r=s.forwardRef(({className:e,...s},a)=>(0,i.jsx)("div",{ref:a,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...s}));r.displayName="CardHeader";let d=s.forwardRef(({className:e,...s},a)=>(0,i.jsx)("h3",{ref:a,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let l=s.forwardRef(({className:e,...s},a)=>(0,i.jsx)("p",{ref:a,className:(0,t.cn)("text-sm text-muted-foreground",e),...s}));l.displayName="CardDescription";let n=s.forwardRef(({className:e,...s},a)=>(0,i.jsx)("div",{ref:a,className:(0,t.cn)("p-6 pt-0",e),...s}));n.displayName="CardContent";let c=s.forwardRef(({className:e,...s},a)=>(0,i.jsx)("div",{ref:a,className:(0,t.cn)("flex items-center p-6 pt-0",e),...s}));c.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>l,"CardFooter",()=>c,"CardHeader",()=>r,"CardTitle",()=>d],15288);let o=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>o],31278)},32549,e=>{"use strict";var i=e.i(43476),s=e.i(71645),t=e.i(18566),a=e.i(57951),r=e.i(16973),d=e.i(31278),l=e.i(86722);function n({children:e,redirectTo:n="/login"}){let{user:c,loading:o,signOut:u}=(0,a.useAuth)(),m=(0,t.useRouter)(),{toast:h}=(0,l.useToast)();return((0,s.useEffect)(()=>{if(!o){if(!c)return void m.push(n);c&&(0,r.getCurrentUser)().then(e=>{e?.user?.estado==="inactivo"&&u().then(()=>{h({title:"Cuenta desactivada",description:"Tu cuenta ha sido desactivada. Contacta al administrador.",variant:"destructive"}),m.push("/login")})}).catch(e=>{e.message.includes("Tu cuenta ha sido desactivada")&&u().then(()=>{h({title:"Cuenta desactivada",description:e.message,variant:"destructive"}),m.push("/login")})})}},[c,o,m,n,u,h]),o||!c)?(0,i.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsx)(d.Loader2,{className:"h-8 w-8 animate-spin"})}):(0,i.jsx)(i.Fragment,{children:e})}e.s(["default",()=>n])},25652,72520,e=>{"use strict";var i=e.i(75254);let s=(0,i.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652);let t=(0,i.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},30257,e=>{"use strict";var i=e.i(43476),s=e.i(57951),t=e.i(15288),a=e.i(19455),r=e.i(68553),d=e.i(70956),l=e.i(39616),n=e.i(52571),c=e.i(25652),o=e.i(72520),u=e.i(22016),m=e.i(42252),h=e.i(32549);function p(){let{user:e,appUser:p}=(0,s.useAuth)(),f=[];return p?.crear_carpeta&&(f.push({title:"Nuevo Viático",description:"Registra un nuevo comprobante con foto o PDF",icon:r.Camera,link:"/nuevo-viatico"}),f.push({title:"Mis Viáticos",description:"Consulta y gestiona todos tus registros",icon:d.List,link:"/mis-viaticos"})),(p?.role==="admin"||p?.role==="super_admin")&&f.push({title:"Panel Admin",description:"Administra todos los viáticos del sistema",icon:l.Settings,link:"/admin"}),(0,i.jsx)(h.default,{children:(0,i.jsx)(m.default,{children:(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-3xl font-bold tracking-tight",children:["¡Bienvenido",e?.displayName?`, ${e.displayName}`:e?.email?`, ${e.email.split("@")[0]}`:"","!"]}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Gestiona tus viáticos de manera rápida y profesional"})]}),(0,i.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:f.map(e=>{let s=e.icon;return(0,i.jsxs)(t.Card,{children:[(0,i.jsx)(t.CardHeader,{children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,i.jsx)(s,{className:"h-5 w-5 text-primary"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)(t.CardTitle,{children:e.title}),(0,i.jsx)(t.CardDescription,{children:e.description})]})]})}),(0,i.jsx)(t.CardContent,{children:(0,i.jsx)(a.Button,{asChild:!0,className:"w-full",children:(0,i.jsxs)(u.default,{href:e.link,children:["Acceder",(0,i.jsx)(o.ArrowRight,{className:"ml-2 h-4 w-4"})]})})})]},e.link)})}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,i.jsxs)(t.Card,{children:[(0,i.jsx)(t.CardHeader,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(n.Info,{className:"h-5 w-5"}),(0,i.jsx)(t.CardTitle,{children:"¿Cómo funciona?"})]})}),(0,i.jsx)(t.CardContent,{children:(0,i.jsxs)("ol",{className:"space-y-3 list-decimal list-inside text-sm text-muted-foreground",children:[(0,i.jsx)("li",{children:"Toma una foto de tu comprobante (boleta, ticket, factura)"}),(0,i.jsx)("li",{children:"Registra el monto y una descripción detallada"}),(0,i.jsx)("li",{children:"Sube el viático al sistema de forma segura"}),(0,i.jsx)("li",{children:"Tu comprobante se guardará automáticamente en OneDrive"})]})})]}),(0,i.jsxs)(t.Card,{children:[(0,i.jsx)(t.CardHeader,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.TrendingUp,{className:"h-5 w-5"}),(0,i.jsx)(t.CardTitle,{children:"Consejos Útiles"})]})}),(0,i.jsx)(t.CardContent,{children:(0,i.jsxs)("ul",{className:"space-y-3 list-disc list-inside text-sm text-muted-foreground",children:[(0,i.jsx)("li",{children:"Asegúrate de que la foto del comprobante sea clara y legible"}),(0,i.jsx)("li",{children:"Puedes subir imágenes JPG, PNG, WEBP o archivos PDF"}),(0,i.jsx)("li",{children:"El tamaño máximo permitido es de 10MB por archivo"}),(0,i.jsx)("li",{children:'Revisa tus viáticos en cualquier momento desde "Mis Viáticos"'})]})})]})]})]})})})}e.s(["default",()=>p])},15183,e=>{e.v(e=>Promise.resolve().then(()=>e(16973)))}]);