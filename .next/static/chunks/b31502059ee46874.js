(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},68553,52571,e=>{"use strict";var t=e.i(75254);let i=(0,t.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>i],68553);let r=(0,t.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>r],52571)},18566,(e,t,i)=>{t.exports=e.r(76562)},15288,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(75157);let a=i.forwardRef(({className:e,...i},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...i}));a.displayName="Card";let s=i.forwardRef(({className:e,...i},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...i}));s.displayName="CardHeader";let n=i.forwardRef(({className:e,...i},a)=>(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...i}));n.displayName="CardTitle";let l=i.forwardRef(({className:e,...i},a)=>(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...i}));l.displayName="CardDescription";let d=i.forwardRef(({className:e,...i},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...i}));d.displayName="CardContent";let o=i.forwardRef(({className:e,...i},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...i}));o.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>l,"CardFooter",()=>o,"CardHeader",()=>s,"CardTitle",()=>n])},19455,91918,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(20783),a=Symbol.for("react.lazy"),s=i[" use ".trim().toString()];function n(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function l(e){var a;let l,d=(a=e,(l=i.forwardRef((e,t)=>{let{children:a,...l}=e;if(n(a)&&"function"==typeof s&&(a=s(a._payload)),i.isValidElement(a)){var d;let e,s,n=(d=a,(s=(e=Object.getOwnPropertyDescriptor(d.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?d.ref:(s=(e=Object.getOwnPropertyDescriptor(d,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?d.props.ref:d.props.ref||d.ref),o=function(e,t){let i={...t};for(let r in t){let a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?i[r]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(i[r]=a):"style"===r?i[r]={...a,...s}:"className"===r&&(i[r]=[a,s].filter(Boolean).join(" "))}return{...e,...i}}(l,a.props);return a.type!==i.Fragment&&(o.ref=t?(0,r.composeRefs)(t,n):n),i.cloneElement(a,o)}return i.Children.count(a)>1?i.Children.only(null):null})).displayName=`${a}.SlotClone`,l),o=i.forwardRef((e,r)=>{let{children:a,...l}=e;n(a)&&"function"==typeof s&&(a=s(a._payload));let o=i.Children.toArray(a),u=o.find(c);if(u){let e=u.props.children,a=o.map(t=>t!==u?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,t.jsx)(d,{...l,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,a):null})}return(0,t.jsx)(d,{...l,ref:r,children:a})});return o.displayName=`${e}.Slot`,o}var d=l("Slot"),o=Symbol("radix.slottable");function c(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}e.s(["Slot",()=>d,"createSlot",()=>l],91918);var u=e.i(25913),f=e.i(75157);let m=(0,u.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=i.forwardRef(({className:e,variant:i,size:r,asChild:a=!1,...s},n)=>(0,t.jsx)(a?d:"button",{className:(0,f.cn)(m({variant:i,size:r,className:e})),ref:n,...s}));p.displayName="Button",e.s(["Button",()=>p],19455)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},32549,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(18566),a=e.i(57951),s=e.i(16973),n=e.i(31278),l=e.i(86722);function d({children:e,redirectTo:d="/login"}){let{user:o,loading:c,signOut:u}=(0,a.useAuth)(),f=(0,r.useRouter)(),{toast:m}=(0,l.useToast)();return((0,i.useEffect)(()=>{if(!c){if(!o)return void f.push(d);o&&(0,s.getCurrentUser)().then(e=>{e?.user?.estado==="inactivo"&&u().then(()=>{m({title:"Cuenta desactivada",description:"Tu cuenta ha sido desactivada. Contacta al administrador.",variant:"destructive"}),f.push("/login")})}).catch(e=>{e.message.includes("Tu cuenta ha sido desactivada")&&u().then(()=>{m({title:"Cuenta desactivada",description:e.message,variant:"destructive"}),f.push("/login")})})}},[o,c,f,d,u,m]),c||!o)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin"})}):(0,t.jsx)(t.Fragment,{children:e})}e.s(["default",()=>d])},25652,72520,e=>{"use strict";var t=e.i(75254);let i=(0,t.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>i],25652);let r=(0,t.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>r],72520)},30257,e=>{"use strict";var t=e.i(43476),i=e.i(57951),r=e.i(15288),a=e.i(19455),s=e.i(68553),n=e.i(70956),l=e.i(39616),d=e.i(52571),o=e.i(25652),c=e.i(72520),u=e.i(22016),f=e.i(42252),m=e.i(32549);function p(){let{user:e,appUser:p}=(0,i.useAuth)(),h=[];return p?.crear_carpeta&&(h.push({title:"Nuevo Viático",description:"Registra un nuevo comprobante con foto o PDF",icon:s.Camera,link:"/nuevo-viatico"}),h.push({title:"Mis Viáticos",description:"Consulta y gestiona todos tus registros",icon:n.List,link:"/mis-viaticos"})),(p?.role==="admin"||p?.role==="super_admin")&&h.push({title:"Panel Admin",description:"Administra todos los viáticos del sistema",icon:l.Settings,link:"/admin"}),(0,t.jsx)(m.default,{children:(0,t.jsx)(f.default,{children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight",children:["¡Bienvenido",e?.displayName?`, ${e.displayName}`:e?.email?`, ${e.email.split("@")[0]}`:"","!"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Gestiona tus viáticos de manera rápida y profesional"})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(e=>{let i=e.icon;return(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,t.jsx)(i,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(r.CardTitle,{children:e.title}),(0,t.jsx)(r.CardDescription,{children:e.description})]})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)(a.Button,{asChild:!0,className:"w-full",children:(0,t.jsxs)(u.default,{href:e.link,children:["Acceder",(0,t.jsx)(c.ArrowRight,{className:"ml-2 h-4 w-4"})]})})})]},e.link)})}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Info,{className:"h-5 w-5"}),(0,t.jsx)(r.CardTitle,{children:"¿Cómo funciona?"})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("ol",{className:"space-y-3 list-decimal list-inside text-sm text-muted-foreground",children:[(0,t.jsx)("li",{children:"Toma una foto de tu comprobante (boleta, ticket, factura)"}),(0,t.jsx)("li",{children:"Registra el monto y una descripción detallada"}),(0,t.jsx)("li",{children:"Sube el viático al sistema de forma segura"}),(0,t.jsx)("li",{children:"Tu comprobante se guardará automáticamente en OneDrive"})]})})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.TrendingUp,{className:"h-5 w-5"}),(0,t.jsx)(r.CardTitle,{children:"Consejos Útiles"})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("ul",{className:"space-y-3 list-disc list-inside text-sm text-muted-foreground",children:[(0,t.jsx)("li",{children:"Asegúrate de que la foto del comprobante sea clara y legible"}),(0,t.jsx)("li",{children:"Puedes subir imágenes JPG, PNG, WEBP o archivos PDF"}),(0,t.jsx)("li",{children:"El tamaño máximo permitido es de 10MB por archivo"}),(0,t.jsx)("li",{children:'Revisa tus viáticos en cualquier momento desde "Mis Viáticos"'})]})})]})]})]})})})}e.s(["default",()=>p])}]);